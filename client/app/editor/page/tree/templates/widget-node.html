<div (dragstart)="onDragStart($event)"
     class="tree-level block-container"
     draggable="true">
  <span [class.block]="isBlock"
        (click)="startEditing()"
        (dragover)="onDragOverNode($event, 'open')"
        (drop)="onDropNode($event, 'open')">
    <div class="widget">
        &lt;{{ model.type }}
        <!-- Display additional parameters as they could be provided
             by more specialised implementations.-->
        <ng-content select="widget-header"></ng-content>&gt;      
    </div>
  </span>
  <span *ngIf="model.text"
        class="text"
        [class.block]="isLongText"
        [class.tree-level]="isLongText">{{ model.text }}</span>

  <ng-content></ng-content>

  <esqulino-node-widget-loader *ngFor="let child of children"
                               [model]="child">
  </esqulino-node-widget-loader>


  <span *ngIf="needsClosingNode"
       [class.block]="isBlock"
       (click)="startEditing()"
       (dragover)="onDragOverNode($event, 'close')"
       (drop)="onDropNode($event, 'close')">
    <span class="widget-close">&lt;/{{ model.type }}&gt;</span>
  </span>

</div>

<div (dragstart)="onDragStart($event)"
     class="tree-level block-container"
     draggable="true">
  <span [class.block]="isBlock"
        (click)="startEditing()"
        (dragover)="onDragOverNode($event, 'open')"
        (drop)="onDropNode($event, 'open')">
    <span class="widget">{{ model.type }}</span>
  </span>
  <span *ngIf="model.text"
        class="text"
        [class.block]="isBlock">{{ model.text }}</span>
  <esqulino-widget-node *ngFor="let child of children"
                        [model]="child">
  </esqulino-widget-node>

  <span [class.block]="isBlock"
        (click)="startEditing()"
        (dragover)="onDragOverNode($event, 'close')"
        (drop)="onDropNode($event, 'close')">
    <span *ngIf="needsClosingNode"
          class="widget-close">{{ model.type }}</span>
  </span>

</div>

<span [ngSwitch]="expr.templateIdentifier">
  <template ngSwitchWhen="missing">
    <span class="fa fa-question-circle"></span>
  </template>
  <template ngSwitchWhen="constant">
    <span *ngIf="!expr.isEditing"
          (dragenter)="onConstantDrag($event)"
          (dragover)="onConstantDrag($event)"
          (dragleave)="onConstantDragLeave($event)"
          (drop)="onConstantDrop($event)"
          (click)="expr.isEditing = true"
          [ngClass]="{ 'current-drop-target' : isCurrentDropTarget }"
          class="constant">
      {{ expr }}
    </span>
    <span *ngIf="expr.isEditing"
          class="constant">
      <input type="text"
             (blur)="expr.isEditing = false"
             [(ngModel)]="expr.value"
             [size]="expr.value.length + 1">
    </span>
  </template>
  <template ngSwitchWhen="column">
    {{ expr }}
  </template>
  <template ngSwitchWhen="binary">
    <span class="expression">
      <sql-expr [expr]="expr.lhs"
                [query]="query"
                [topLevel]="'false'">
      </sql-expr>
      <span class="operator">{{ expr.operator }}</span>
      <sql-expr [expr]="expr.rhs"
                [query]="query"
                [topLevel]="'false'">
      </sql-expr>
    </span>
  </template>
  <template ngSwitchDefault>
    Error: Unknown expression type identifier
  </template>
</span>

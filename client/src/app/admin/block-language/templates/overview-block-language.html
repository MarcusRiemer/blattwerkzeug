<ng-template cdkPortal #toolbarItems>
  <button (click)="onRefresh()"
          mat-button>
    <span class="fa fa-refresh fa-fw"></span>
    Refresh
  </button>
</ng-template>

<h2>
  <span *ngIf="(inProgress | async)" class="fa fa-refresh fa-spin fa-fw"></span>
  Blocksprachen
</h2>

<table class="table table-sm"
       mat-table matSort
       [dataSource]="availableBlockLanguages"
       (matSortChange)="onChangeSort()">

 <ng-container matColumnDef="name">
   <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
   <td mat-cell *matCellDef="let blockLanguage">
     <a [routerLink]="[blockLanguage.id]">
       {{ blockLanguage.name }}
     </a>
   </td>
 </ng-container>

 <ng-container matColumnDef="slug">
   <th mat-header-cell *matHeaderCellDef mat-sort-header>Slug</th>
   <td mat-cell *matCellDef="let blockLanguage">
     <code>{{ blockLanguage.slug | defaultValue }}</code>
   </td>
 </ng-container>

 <ng-container matColumnDef="id">
   <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
   <td mat-cell *matCellDef="let blockLanguage">
    <code>{{ blockLanguage.id }}</code>
   </td>
 </ng-container>

 <ng-container matColumnDef="grammar">
   <th mat-header-cell *matHeaderCellDef mat-sort-header>Grammatik</th>
   <td mat-cell *matCellDef="let blockLanguage">
    <link-grammar [grammarId]="blockLanguage.grammarId"></link-grammar>
   </td>
 </ng-container>

 <ng-container matColumnDef="generator">
   <th mat-header-cell *matHeaderCellDef mat-sort-header>Generator</th>
   <td mat-cell *matCellDef="let blockLanguage">
     <ng-container *ngIf="blockLanguage.generated; else manual;">
       ✔
     </ng-container>
     <ng-template #manual>
       ✗
     </ng-template>
   </td>
 </ng-container>

 <ng-container matColumnDef="actions">
   <th mat-header-cell *matHeaderCellDef mat-sort-header>Aktionen</th>
   <td mat-cell *matCellDef="let blockLanguage">
     <button (click)="deleteBlockLanguage(blockLanguage.id)"
             data-spec="delete"
             type="button"
             class="btn btn-outline-danger btn-sm">
       <span class="fa fa-trash-o" aria-hidden="true"></span>
     </button>
   </td>
 </ng-container>
 <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
 <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
 </table>
 <mat-paginator (page)="onChangePagination()"
                [length]="resultsLength$ | async"
                [pageSize]="25"
                [pageSizeOptions]="[5,25,100]">
 </mat-paginator>

<!-- Classes hack in some visual spacing between creation forms -->
<create-block-language class="mb-5 d-block"></create-block-language>

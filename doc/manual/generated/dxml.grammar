grammar "dxml" {
  node "element" {
    terminal "<"
    prop "name" { string }
    children "attributes" ::= attribute*
    terminal ">"
    children "elements" ::= element* & text* & interpolate* & if*
    terminal "<ende/>"
  }
  node "attribute" {
    prop "name" { string }
    terminal "=""
    children "value" ::= text* & interpolate*
    terminal """
  }
  node "text" {
    prop "value" { string }
  }
  node "interpolate" {
    children "expr" ::= expr
  }
  node "if" {
    children "condition" ::= expr
    children "body" ::= element* & text* & interpolate* & if*
  }
  typedef "expr" ::= exprVar | exprConst | exprBinary
  node "exprVar" {
    prop "name" { string }
  }
  node "exprConst" {
    prop "name" { string }
  }
  node "exprBinary" {
    children "lhs" ::= expr
    children "operator" ::= binaryOperator
    children "rhs" ::= expr
  }
  node "binaryOperator" {
    prop "operator" { string }
  }
}

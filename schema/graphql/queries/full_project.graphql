query FullProject($id: ID!) {
  projects(input: {filter: {id: $id}}) {
    nodes {
      id
      slug
      name
      description
      public
      indexPageId
      createdAt
      updatedAt
      defaultDatabase {
        id
        name
      }
      codeResources {
        id
        name
        ast
        blockLanguageId
        programmingLanguageId
      }
      grammars {
        id
        name
        root
        types
        foreignTypes
        visualisations
        foreignVisualisations
        includes
        visualizes
        programmingLanguageId
        createdAt
        updatedAt
      }
      # Not required by the project constructor, but by specifying
      # it here it ends up in the apollo cache
      blockLanguages {
        id
        name
        sidebars
        editorBlocks
        editorComponents
        localGeneratorInstructions
        rootCssClasses
        grammarId
        defaultProgrammingLanguageId
        createdAt
        updatedAt
      }
      projectUsesBlockLanguages {
        id
        blockLanguageId
      }
      projectSources {
        id
        kind
        readOnly
        title
        url
      }
      defaultDatabase {
        schema {
          name
          columns {
            index
            name
            type
            notNull
            dfltValue
            primary
          }
          foreignKeys {
            references {
              fromColumn
              toTable
              toColumn
            }
          }
          systemTable
        }
      }
    }
  }
}

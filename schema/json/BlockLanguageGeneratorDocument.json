{
  "$ref": "#/definitions/BlockLanguageGeneratorDocument",
  "$schema": "http://json-schema.org/draft-06/schema#",
  "definitions": {
    "AllTypeInstructions": {
      "additionalProperties": {
        "additionalProperties": {
          "$ref": "#/definitions/TypeInstructions"
        },
        "type": "object"
      },
      "description": "Supplementary generation instructions for all types.",
      "type": "object"
    },
    "AttributeMappingOrder": {
      "anyOf": [
        {
          "enum": [
            "grammar"
          ],
          "type": "string"
        },
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      ]
    },
    "BlockLanguageGeneratorDocument": {
      "additionalProperties": false,
      "description": "The nested parts of the generator description that must be stored\nas a JSON \"blob\".",
      "properties": {
        "editorComponents": {
          "items": {
            "$ref": "#/definitions/EditorComponentDescription"
          },
          "type": "array"
        },
        "typeInstructions": {
          "$ref": "#/definitions/AllTypeInstructions"
        }
      },
      "type": "object"
    },
    "EditorComponentDescription": {
      "$ref": "#/definitions/QueryPreviewComponentDescription",
      "description": "Any component that could be displayed in the actual editor view."
    },
    "MultiBlockInstructionsDescription": {
      "additionalProperties": false,
      "properties": {
        "blocks": {
          "items": {
            "$ref": "#/definitions/SingleBlockInstructionsDescription"
          },
          "type": "array"
        },
        "type": {
          "enum": [
            "multi"
          ],
          "type": "string"
        }
      },
      "required": [
        "type",
        "blocks"
      ],
      "type": "object"
    },
    "Orientation": {
      "enum": [
        "horizontal",
        "vertical"
      ],
      "type": "string"
    },
    "QueryPreviewComponentDescription": {
      "additionalProperties": false,
      "properties": {
        "componentType": {
          "enum": [
            "query-preview"
          ],
          "type": "string"
        }
      },
      "required": [
        "componentType"
      ],
      "type": "object"
    },
    "SingleBlockInstructionsDescription": {
      "additionalProperties": false,
      "description": "Instructions on how to generate a single block.",
      "properties": {
        "attributes": {
          "additionalProperties": {
            "additionalProperties": false,
            "description": "Make all properties in T optional",
            "properties": {
              "attributeMapping": {
                "$ref": "#/definitions/AttributeMappingOrder"
              },
              "between": {
                "type": "string"
              },
              "orientation": {
                "$ref": "#/definitions/Orientation"
              },
              "readOnly": {
                "type": "boolean"
              },
              "style": {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              }
            },
            "type": "object"
          },
          "type": "object"
        },
        "block": {
          "additionalProperties": false,
          "description": "Make all properties in T optional",
          "properties": {
            "attributeMapping": {
              "$ref": "#/definitions/AttributeMappingOrder"
            },
            "orientation": {
              "$ref": "#/definitions/Orientation"
            },
            "style": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            }
          },
          "type": "object"
        },
        "type": {
          "enum": [
            "single"
          ],
          "type": "string"
        }
      },
      "required": [
        "type",
        "attributes"
      ],
      "type": "object"
    },
    "TypeInstructions": {
      "anyOf": [
        {
          "$ref": "#/definitions/SingleBlockInstructionsDescription"
        },
        {
          "$ref": "#/definitions/MultiBlockInstructionsDescription"
        }
      ]
    }
  }
}